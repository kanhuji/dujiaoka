<p align="center"><img src="https://i.loli.net/2020/04/07/nAzjDJlX7oc5qEw.png" width="400"></p>

<p align="center">
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/license-MIT-blue" alt="license MIT"></a>
<a href="https://github.com/assimon/dujiaoka/releases/tag/2.0.4"><img src="https://img.shields.io/badge/version-2.0.4-red" alt="version 2.0.4"></a>
<a href="https://www.php.net/releases/7_4_0.php"><img src="https://img.shields.io/badge/PHP-7.4-lightgrey" alt="php74"></a>
<a href="https://shang.qq.com/wpa/qunwpa?idkey=37b6b06f7c941dae20dcd5784088905d6461064d7f33478692f0c4215546cee0"><img src="https://img.shields.io/badge/QQ%E7%BE%A4-568679748-green" alt="QQç¾¤ï¼š568679748"></a>
</p>

## ç‹¬è§’æ•°å¡

å¼€æºå¼ç«™é•¿è‡ªåŠ¨åŒ–å”®è´§è§£å†³æ–¹æ¡ˆã€é«˜æ•ˆã€ç¨³å®šã€å¿«é€Ÿï¼

- æ¡†æ¶æ¥è‡ªï¼š[laravel/framework](https://github.com/laravel/laravel).
- åå°ç®¡ç†ç³»ç»Ÿï¼š[laravel-admin](https://laravel-admin.org/).
- å‰ç«¯ui [bootstrap](https://getbootstrap.com/).

æ ¸å¿ƒè´¡çŒ®è€…ï¼š
- [iLay1678](https://github.com/iLay1678)

æ¨¡æ¿è´¡çŒ®è€…ï¼š
- [Julyssn](https://github.com/Julyssn) æ¨¡æ¿`luna`ä½œè€…
- [bimoe](https://github.com/bimoe) æ¨¡æ¿`hyper`ä½œè€…

é¸£è°¢ä»¥ä¸Šå¼€æºé¡¹ç›®åŠè´¡çŒ®è€…ï¼Œæ’åä¸åˆ†å…ˆå.

## ç³»ç»Ÿä¼˜åŠ¿

é‡‡ç”¨ä¸šç•Œæµè¡Œçš„`laravel`æ¡†æ¶ï¼Œå®‰å…¨åŠç¨³å®šæ€§æå‡ã€‚    
æ”¯æŒ`è‡ªå®šä¹‰å‰ç«¯æ¨¡æ¿`åŠŸèƒ½   
æ”¯æŒ`å›½é™…åŒ–å¤šè¯­è¨€åŒ…`ï¼ˆéœ€è‡ªè¡Œç¿»è¯‘ï¼‰  
ä»£ç å…¨éƒ¨å¼€æºï¼Œæ‰€æœ‰æ‰©å±•åŒ…é‡‡ç”¨composeråŠ è½½ï¼Œä»£ç æ‰€æœ‰å†…å®¹å¯æº¯æºï¼     
é•¿æœŸæŠ€æœ¯æ›´æ–°æ”¯æŒï¼

## ğŸ‘®â€â™‚ï¸åè¯ˆæé†’
è¿‘æœŸæœ‰é«˜ä»¿ä½œè€…telegramå®æ–½è¯ˆéª—çš„è¡Œä¸ºï¼Œ        
è¯·å„ä½ç”¨æˆ·æ“¦äº®åŒçœ¼ï¼Œä½œè€…ä»ä¸ç§èŠä»»ä½•äººæä¾›ä»»ä½•æ”¶è´¹å½¢å¼çš„æŠ€æœ¯æ”¯æŒæœåŠ¡ï¼    
é¡¹ç›®æ˜¯å®Œå…¨å¼€æºå…è´¹çš„ï¼Œå®Œå…¨éµå®ˆ`MITå¼€æºåè®®`    
æ²¡æœ‰æ‰€è°“çš„`æŠ€æœ¯æ”¯æŒ`ï¼Œ`ç»ˆèº«æŠ€æœ¯æ”¯æŒ`ï¼Œ`äºŒæ¬¡å¼€å‘`ç­‰ä¸šåŠ¡ï¼Œä¹Ÿä¸å‚ä¸ä»»ä½•ç”¨æˆ·çš„`ä¸šåŠ¡è¿è¥`ã€‚    
å‡¡æ˜¯ä½œè€…ç§èŠä½ çš„å…¨æ˜¯é«˜ä»¿å·è¯ˆéª—ï¼Œè¯·ä»”ç»†æ ¸å¯¹ä½œè€…å”¯ä¸€Telegramç”¨æˆ·åï¼š`linux0101`     

## å†™åœ¨å‰é¢
æœ¬ç¨‹åºæœ‰ä¸€å®šçš„ä¸Šæ‰‹éš¾åº¦ï¼ˆå¯¹äºå°ç™½è€Œè¨€ï¼‰ï¼Œéœ€è¦æ‚¨å¯¹linuxæœåŠ¡å™¨æœ‰åŸºæœ¬çš„è®¤è¯†å’Œæ“ä½œåº¦   
ä¸”æœ¬ç¨‹åºä¸æ”¯æŒè™šæ‹Ÿä¸»æœºï¼Œå¤§æ¦‚ç‡ä¹Ÿä¸æ”¯æŒwindowsæœåŠ¡å™¨ï¼  
å¦‚æœæ‚¨è¿å®å¡”ã€phpstudyã€AppNodeç­‰ä¸€é”®å¯è§†åŒ–æœåŠ¡å™¨é¢æ¿ä¹Ÿæœªæ›¾ä½¿ç”¨æˆ–å¬è¯´è¿‡ï¼Œé‚£ä¹ˆæˆ‘å¤§æ¦‚ç‡åŠæ‚¨æ”¾å¼ƒæœ¬ç¨‹åºï¼  
å¦‚æœæ‚¨è§‰å¾—éƒ¨ç½²æœ‰éš¾åº¦ï¼Œå»ºè®®ä»”ç»†é˜…è¯»ï¼ˆä»”ç»†ï¼ï¼‰å®å¡”è§†é¢‘å®‰è£…ç¯‡æ•™ç¨‹ï¼Œé‡Œé¢æœ‰ä¿å§†çº§çš„å®‰è£…æµç¨‹å’Œè§†é¢‘æ•™ç¨‹ï¼   
è®¤çœŸè§‚çœ‹éƒ¨ç½²æ•™ç¨‹æˆ‘å¯ä»¥ä¿è¯æ‚¨98%å¯èƒ½æ€§èƒ½éƒ¨ç½²æˆåŠŸï¼  
å‹¤åŠ¨æ‰‹ï¼Œå¤šæ€è€ƒï¼Œå–„ç ”ç©¶ï¼

## ä½¿ç”¨äº¤æµ      
Telegram: [https://t.me/dujiaoka](https://t.me/dujiaoka)    
å…³æ³¨Telegramå®˜æ–¹é¢‘é“ï¼š[https://t.me/dujiaoshuka](https://t.me/dujiaoshuka) (ç³»ç»Ÿæ›´æ–°é€šçŸ¥ï¼Œbugæ›´æ–°ï¼Œé‡å¤§äº‹ä»¶æ¨é€)

## ğŸ”¥æ¨èæœåŠ¡å™¨ 
- ï¼ˆğŸ‡ºğŸ‡¸ç¾å›½å…å¤‡æ¡ˆvpsï¼Œé…ç½®2æ ¸2Gä»…éœ€`20.98$`â‰ˆ`145RMB`ä¸€å¹´/æ”¯æŒæ”¯ä»˜å®ä»˜æ¬¾ï¼‰[ğŸ‘‰ğŸ»ç‚¹æˆ‘ç›´è¾¾](https://my.racknerd.com/aff.php?aff=2745&pid=681)
- (ğŸ”¥èµ›åšæ”¯ä»˜ã€å‘å¡æ”¶æ¬¾å¥½å¸®æ‰‹ã€‘ï¼Œæ”¯ä»˜å®/å¾®ä¿¡è´¹ç‡5%) [ğŸ‘‰ç»“ç®—D0ï¼Œç‚¹æˆ‘ç›´è¾¾](https://t.me/CyberWlD/219)

## ç•Œé¢å°é²œ
ã€å®˜æ–¹unicornæ¨¡æ¿ã€‘
![é¦–é¡µ.png](https://i.loli.net/2021/09/14/NZIl6s9RXbHwkmA.png)

ã€lunaæ¨¡æ¿ã€‘ 
![é¦–é¡µ.png](https://i.loli.net/2020/10/24/ElKwJFsQy4a9fZi.png)

ã€hyperæ¨¡æ¿ã€‘  
![é¦–é¡µ.png](https://i.loli.net/2021/01/06/nHCSV5PdJIzT6Gy.png)

## å®‰è£…ç¯‡
- [Linuxç¯å¢ƒå®‰è£…](https://github.com/assimon/dujiaoka/wiki/linux_install)
- [Dockerå®‰è£…](https://github.com/assimon/dujiaoka/wiki/docker_install)
- [2.xç‰ˆæœ¬å®å¡”å®‰è£…æ•™ç¨‹](https://github.com/assimon/dujiaoka/wiki/2.x_bt_install)
- [1.xç‰ˆæœ¬å®å¡”ç¯å¢ƒå®‰è£…](https://github.com/assimon/dujiaoka/wiki/1.x_bt_install)
- [å¸¸è§é—®é¢˜é”¦é›†-ä½ é‡åˆ°çš„é—®é¢˜å¤§éƒ¨åˆ†èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°è§£å†³ï¼ï¼](https://github.com/assimon/dujiaoka/wiki/problems)
- [ç³»ç»Ÿå‡çº§](https://github.com/assimon/dujiaoka/wiki/update)
- [å„æ”¯ä»˜å¯¹åº”åå°é…ç½®](https://github.com/assimon/dujiaoka/wiki/problems#å„æ”¯ä»˜å¯¹åº”é…ç½®)
- [è§†é¢‘æ•™ç¨‹åŠå·¥å…·é›†åˆ](https://pan.dujiaoka.com)

## æ”¯ä»˜æ¥å£å·²é›†æˆ
- [x] æ”¯ä»˜å®å½“é¢ä»˜
- [x] æ”¯ä»˜å®PCæ”¯ä»˜
- [x] æ”¯ä»˜å®æ‰‹æœºæ”¯ä»˜
- [x] [payjså¾®ä¿¡æ‰«ç ](http://payjs.cn).
- [x] [Paysapi(æ”¯ä»˜å®/å¾®ä¿¡)](https://www.paysapi.com/).
- [x] ç æ”¯ä»˜(QQ/æ”¯ä»˜å®/å¾®ä¿¡)
- [x] å¾®ä¿¡ä¼ä¸šæ‰«ç æ”¯ä»˜
- [x] [Paypalæ”¯ä»˜(é»˜è®¤ç¾å…ƒ)](https://www.paypal.com)
- [x] Vå…ç­¾æ”¯ä»˜
- [x] å…¨ç½‘æ˜“æ”¯ä»˜æ”¯æŒ(é€šç”¨å½©è™¹ç‰ˆ)
- [x] [stripe](https://stripe.com/)

## åŸºæœ¬ç¯å¢ƒè¦æ±‚

- (PHP + PHPCLI) version = 7.4
- Nginx version >= 1.16
- MYSQL version >= 5.6
- Redis (é«˜æ€§èƒ½ç¼“å­˜æœåŠ¡)
- Supervisor (ä¸€ä¸ªpythonç¼–å†™çš„è¿›ç¨‹ç®¡ç†æœåŠ¡)
- Composer (PHPåŒ…ç®¡ç†å™¨)
- Linux (Winä¸‹æœªæµ‹è¯•ï¼Œå»ºè®®ç›´æ¥Linux)

## PHPç¯å¢ƒè¦æ±‚

æ˜Ÿå·(*)ä¸ºå¿…é¡»æ‰§è¡Œçš„è¦æ±‚ï¼Œå…¶ä»–ä¸ºå»ºè®®å†…å®¹

- **\*å®‰è£…`fileinfo`æ‰©å±•**
- **\*å®‰è£…`redis`æ‰©å±•**
- **\*ç»ˆç«¯éœ€æ”¯æŒ`php-cli`ï¼Œæµ‹è¯•`php -v`(ç‰ˆæœ¬å¿…é¡»ä¸€è‡´)**
- **\*éœ€è¦å¼€å¯çš„å‡½æ•°ï¼š`putenv`ï¼Œ`proc_open`ï¼Œ`pcntl_signal`ï¼Œ`pcntl_alarm`**
- å®‰è£…`opcache`æ‰©å±•

## é»˜è®¤åå°

- åå°è·¯å¾„ `/admin`
- é»˜è®¤ç®¡ç†å‘˜è´¦å· `admin`
- é»˜è®¤ç®¡ç†å‘˜å¯†ç  `admin`

## å»ºç«‹Dockerå¼€å‘ç¯å¢ƒ
å»ºç«‹ä¸å½±å“å®¿ä¸»æœºç³»ç»Ÿçš„Dockerå¼€å‘ç¯å¢ƒï¼Œå»ºè®®ä½¿ç”¨ä¸€ä¸ªç°æˆçš„åŸºäºLNMPçš„Dockerè„šæœ¬: [https://github.com/kanhuji/docker-lnmp](https://github.com/kanhuji/docker-lnmp)ï¼ŒæŒ‰ç…§æ­¥éª¤æ¥å³å¯ï¼Œæ³¨æ„æ–°å»ºnetworkçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‘ç°ç«¯å£è¢«å ç”¨ï¼Œç”¨`docker network prune`å…ˆç§»é™¤ä¹‹å‰ç•™ä¸‹çš„networkã€‚ç”¨å¤–éƒ¨çš„networkçš„åŸå› æ˜¯ä¸éœ€è¦æ¯æ¬¡è¿è¡Œä¸€é`docker compose down`æ¥ç§»é™¤æ‰€æœ‰å®¹å™¨å’Œnetworkï¼Œå¯ä»¥ç›´æ¥é‡å¯å®‰è£…æ‰€æœ‰å®¹å™¨ç»§ç»­æµ‹è¯•

åœ¨`docker-lnmp`é¡¹ç›®é‡Œä¿®æ”¹`.env`æ–‡ä»¶ï¼ŒæŒ‡å®šç›®æ ‡æ–‡ä»¶å¤¹çš„ä½ç½®ï¼Œè¿™é‡Œæ˜¯å§`dujiaoka`å’Œ`docker-lnmp`æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹
```dotnetcli
WEB_ROOT_PATH=../dujiaoka
```

åœ¨å®¿ä¸»æœºä¸Šç¼–è¯‘`dujiaoka`é¡¹ç›®ï¼Œæ ¹æ®PHPçš„ç‰ˆæœ¬å…ˆå®‰è£…ä¸€äº›å¿…è¦çš„PHPçš„ç»„ä»¶
```dotnetcli
apt install php7.4-common php7.4-mysql php7.4-xml php7.4-xmlrpc php7.4-curl php7.4-gd php7.4-imagick php7.4-cli php7.4-dev php7.4-imap php7.4-mbstring php7.4-opcache php7.4-soap php7.4-zip php7.4-intl php7.4-bcmath -y
```

é€’å½’æ”¹å˜`dujiaoka`é¡¹ç›®é‡Œé¢`storage/`æ–‡ä»¶å¤¹çš„æƒé™ï¼Œç”¨äºå®æ—¶åŠ å…¥å­˜å‚¨å’Œå†™å…¥æ—¥å¿—ï¼Œä¸è®¾ç½®ä¼šå¯¼è‡´æ— æ³•å®‰è£…ã€‚æ•´ä¸ª`dujiaoka`é¡¹ç›®æ–‡ä»¶ä¼šè¢«åŒæ­¥å¤åˆ¶åˆ°nginxå®¹å™¨çš„`/var/www`æ–‡ä»¶å¤¹é‡Œé¢ï¼Œå®¹å™¨è¿è¡Œä»¥åä¸¤è¾¹çš„æ–‡ä»¶ä¼šå®æ—¶åŒæ­¥ï¼ŒåŒ…æ‹¬æ–‡ä»¶æƒé™ä¹Ÿä¼šåŒæ­¥ã€‚
```dotnetcli
chmod -R 777 storage/
```

ç¼–è¯‘é¡¹ç›®
```dotnetcli
composer install
```

å»`docker-lnmp`é¡¹ç›®é‡Œé¢ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œè·¯å¾„æ˜¯`nginx/conf.d/default.conf`ï¼Œæ³¨æ„PHPçš„ç«¯å£è¢«æ”¹åˆ°äº†9074ï¼Œä¸åŒPHPç‰ˆæœ¬å¯¹åº”ä¸åŒçš„ç«¯å£
```nginx
server {
    listen          80;
    server_name     localhost;

    index index.html index.htm index.php default.html default.htm default.php;
    root   /var/www/public;

    access_log /dev/stdout;
    error_log /dev/stderr warn;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-XSS-Protection "1; mode=block";
    add_header X-Content-Type-Options "nosniff";

    index index.html index.htm index.php;

    charset utf-8;
    
    client_max_body_size 10M;

    location / {
        try_files $uri $uri/ /index.php$is_args$query_string;  
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_split_path_info ^(.+\.php)(/.+)$;
        fastcgi_pass php74:9074;
        fastcgi_index index.php;
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        include fastcgi_params;
    }
}

```

å¼€å§‹è¿è¡Œæ‰€æœ‰å®¹å™¨
```dotnetcli
docker-compose up -d --build php74 nginx mysql redis
```

æ‰“å¼€ç½‘ç«™`127.0.0.1`å¼€å§‹å®‰è£…ï¼Œå¦‚æœå‰é¢åœ¨`dujiaoka`é¡¹ç›®ä¸­å®‰è£…è¿‡ï¼Œéœ€è¦å…ˆæ‰‹åŠ¨åˆ é™¤`install.lock`å†å®‰è£…ã€‚MYSQLæ•°æ®åº“åœ°å€å¡«å†™mysqlï¼ŒRedisè¿æ¥åœ°å€å¡«å†™redisï¼Œä¹Ÿå¯ä»¥å¡«å†™å…·ä½“åˆ†é…çš„åœ°å€ã€‚

å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é”™è¯¯:
`file_put_contents(/var/www/.env): failed to open stream: Permission denied`
å»`dujiaoka`é¡¹ç›®é‡Œé¢åŠ ä¸ªæƒé™ï¼Œæ³¨æ„ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒè¿™æ ·æ“ä½œï¼Œåªé€‚ç”¨äºæœ¬åœ°æµ‹è¯•ï¼Œè¿è¡Œ`chmod 777 .env`


## å…è´£å£°æ˜

ç‹¬è§’æ•°å¡ç¨‹åºæ˜¯å…è´¹å¼€æºçš„äº§å“ï¼Œä»…ç”¨äºå­¦ä¹ äº¤æµä½¿ç”¨ï¼       
ä¸å¯ç”¨äºä»»ä½•è¿å`ä¸­åäººæ°‘å…±å’Œå›½(å«å°æ¹¾çœ)`æˆ–`ä½¿ç”¨è€…æ‰€åœ¨åœ°åŒº`æ³•å¾‹æ³•è§„çš„ç”¨é€”ã€‚      
å› ä¸ºä½œè€…å³æœ¬äººä»…å®Œæˆä»£ç çš„å¼€å‘å’Œå¼€æºæ´»åŠ¨`(å¼€æºå³ä»»ä½•äººéƒ½å¯ä»¥ä¸‹è½½ä½¿ç”¨)`ï¼Œä»æœªå‚ä¸ç”¨æˆ·çš„ä»»ä½•è¿è¥å’Œç›ˆåˆ©æ´»åŠ¨ã€‚    
ä¸”ä¸çŸ¥æ™“ç”¨æˆ·åç»­å°†`ç¨‹åºæºä»£ç `ç”¨äºä½•ç§ç”¨é€”ï¼Œæ•…ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€å¸¦æ¥çš„ä»»ä½•æ³•å¾‹è´£ä»»å³ç”±ç”¨æˆ·è‡ªå·±æ‰¿æ‹…ã€‚      


## Thanks

Thanks JetBrains for the free open source license

<a href="https://www.jetbrains.com/?from=gev" target="_blank">
	<img src="https://i.loli.net/2021/02/08/2aejB8rwNmQR7FG.png" width = "260" align=center />
</a>


## License

ç‹¬è§’æ•°å¡ DJK Inc [MIT license](https://opensource.org/licenses/MIT).
